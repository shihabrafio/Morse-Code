MORSE_CODE = {
    '.-'=> 'A', '-...'=> 'B', '-.-.'=> 'C', '-..'=> 'D', '.'=> 'E', '..-.'=> 'F', '--.'=> 'G',
    '....'=> 'H', '..'=> 'I', '.---'=> 'J', '-.-'=> 'K', '.-..'=> 'L', '--'=> 'M', '-.'=> 'N',
    '---'=> 'O', '.--.'=> 'P', '--.-'=> 'Q', '.-.'=> 'R', '...'=> 'S', '-'=> 'T', '..-'=> 'U',
    '...-'=> 'V', '.--'=> 'W', '-..-'=> 'X', '-.--'=> 'Y', '--..'=> 'Z',
    '-----'=> '0', '.----'=> '1', '..---'=> '2', '...--'=> '3', '....-'=> '4', '.....'=> '5',
    '-....'=> '6', '--...'=> '7', '---..'=> '8', '----.'=> '9',
}.freeze

def decode_char(char)
  if char == ' '
    return ' '
  end
  MORSE_CODE[char]
end

def decode(string)
  string.split('   ').map { |sentence| sentence.split.map{ |word| word.split.map{ |char| decode_char(char)}.join}.join}.join(' ') 
end

p decode('.-   -... --- -..-   ..-. ..- .-.. .-..   --- ..-.   .-. ..- -... .. . ...')
